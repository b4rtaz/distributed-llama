{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "dllama chat",
      "type": "cppdbg",
      "request": "launch",
      "program": "/workspace/distributed-llama/dllama",
      "args": [
        "chat",
        "--model", "/workspace/distributed-llama/models/qwen3_0.6b_q40/dllama_model_qwen3_0.6b_q40.m",
        "--tokenizer", "/workspace/distributed-llama/models/qwen3_0.6b_q40/dllama_tokenizer_qwen3_0.6b_q40.t",
        "--buffer-float-type", "q80",
        "--nthreads", "48",
        "--max-seq-len", "2048",
      ],
      "cwd": "/workspace/distributed-llama",
      "stopAtEntry": true,
      "externalConsole": false,
      "MIMode": "gdb",
      "miDebuggerPath": "/usr/bin/gdb",
      "environment": [
        { "name": "ASAN_OPTIONS", "value": "abort_on_error=1:fast_unwind_on_malloc=0:detect_leaks=1" }
      ],
      "setupCommands": [
        { "description": "Enable pretty-printing for gdb", "text": "-enable-pretty-printing", "ignoreFailures": true },
        { "description": "Set disassembly flavor to intel", "text": "-gdb-set disassembly-flavor intel", "ignoreFailures": true }
      ]
    },
    {
      "name": "dllama Inference (ASan)",
      "type": "cppdbg",
      "request": "launch",
      "program": "/workspace/distributed-llama/dllama",
      "args": [
        "inference",
        "--prompt", "Hello world",
        "--steps", "32",
        "--model", "/workspace/distributed-llama/models/qwen3_0.6b_q40/dllama_model_qwen3_0.6b_q40.m",
        "--tokenizer", "/workspace/distributed-llama/models/qwen3_0.6b_q40/dllama_tokenizer_qwen3_0.6b_q40.t",
        "--buffer-float-type", "q80",
        "--nthreads", "2",
        "--max-seq-len", "2048",
        "--workers", "rpi-trixie-JSAC3:9999"
      ],
      "cwd": "/workspace/distributed-llama",
      "stopAtEntry": false,
      "externalConsole": false,
      "MIMode": "gdb",
      "miDebuggerPath": "/usr/bin/gdb",
      "environment": [
        { "name": "ASAN_OPTIONS", "value": "abort_on_error=1:fast_unwind_on_malloc=0:detect_leaks=1" }
      ],
      "setupCommands": [
        { "description": "Enable pretty-printing for gdb", "text": "-enable-pretty-printing", "ignoreFailures": true },
        { "description": "Set disassembly flavor to intel", "text": "-gdb-set disassembly-flavor intel", "ignoreFailures": true }
      ]
    }
  ]
  
}
